<!DOCTYPE html>
<html>
  <head>
    <title>–ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–∫–∏</title>
    <link rel="stylesheet" href="static/css/global.css" />
    <link rel="stylesheet" href="static/css/styleguide.css" />
    <link rel="stylesheet" href="static/css/style.css" />
  </head>
  <body>
    <div class="screen">
      <div class="view">
        <div class="div">
          <div class="text-wrapper">–ù–æ–≤—ã–π –∑–∞–∫–∞–∑</div>
          <div class="text-wrapper-2">–°—É—à–∏ –ë–∞–π—Ä–∞–º üëã</div>
        </div>
        <a href="today_orders">
          <img class="fi-x" src="static/img/fi-x.svg" />
        </a>
      </div>
      <form action="/" method="post">
        <div>
          <label for="tel_input">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
          <input class="input-content" type="text" id="tel_input" name="tel_input" required><br>
        </div>
        <label for="menu_input">–ó–∞–∫–∞–∑ (—Ä–∞–∑–¥–µ–ª—è–π—Ç–µ –∑–∞–ø—è—Ç–æ–π):</label>
        <input class="input-content" type="text" id="menu_input" name="menu_input" required><br>
        
        <label for="clientsnumber_input">–ù–∞ —Å–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫:</label>
        <input class="input-content" type="text" id="clientsnumber_input" name="clientsnumber_input" required><br>
        
        <label for="address_input">–ê–¥—Ä–µ—Å:</label>
        <input class="input-content" type="text" id="address_input" name="address_input" required><br>

        <label for="method_input">–ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã:</label>
        <input class="input-content" type="text" id="method_input" name="method_input" required><br>
        <div class="view-3">
          <div class="text-wrapper-6" id="total_cost">0 ‚ÇΩ</div>
          <input class="view-4" type="submit" value="–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑">
        </div>  
    
      </form>
    </div>
    
    <script>
      const menuInput = document.getElementById("menu_input");
      const addressInput = document.getElementById("address_input");
      const totalCost = document.getElementById("total_cost");
    
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –≤–≤–æ–¥–∞
      menuInput.addEventListener("input", updateTotalCost);
      addressInput.addEventListener("input", updateTotalCost);
    
      function updateTotalCost() {
        // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
        const menu = menuInput.value;
        const address = addressInput.value;
        
        // –í—ã–ø–æ–ª–Ω—è–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
        fetch(`/calculate_total_cost?menu=${menu}&address=${address}`)
          .then(response => response.json())
          .then(data => {
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–µ–π —Å—É–º–º—ã
            totalCost.textContent = `${data.totalCost} ‚ÇΩ`;
          });
      }
    </script>
    
    
    
  </body>
</html>
